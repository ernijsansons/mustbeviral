# Repository Cleanup Manifest - Phase 2 Actions
# Generated: 2025-09-26
# Execute with: scripts/safe_cleanup.ps1 or scripts/safe_cleanup.sh
# Default mode: --dry-run (use --execute to apply changes)

version: "1.0"
metadata:
  repository: "Must Be Viral V2"
  phase: 2
  safety_mode: "quarantine_first"
  graveyard_path: "__graveyard__"

actions:
  # Temporary Fix Scripts - SAFE TO REMOVE
  - path: "mustbeviral/scripts/aggressive-fix-remaining.cjs"
    action: "MOVE"
    category: "temporary_scripts"
    reason: "One-off fix script, changes already applied"
    evidence_of_unused: "No references in package.json scripts, temporary nature"
    risk_level: "LOW"
    rollback_notes: "Restore from __graveyard__/temporary_scripts/ if needed"

  - path: "mustbeviral/scripts/aggressive-unused-cleanup.cjs"
    action: "MOVE"
    category: "temporary_scripts"
    reason: "One-off cleanup script"
    evidence_of_unused: "Not referenced in any build process"
    risk_level: "LOW"
    rollback_notes: "Restore from graveyard if needed"

  - path: "mustbeviral/scripts/aggressive-unused-fix.cjs"
    action: "MOVE"
    category: "temporary_scripts"
    reason: "Temporary fix script"
    evidence_of_unused: "No active references"
    risk_level: "LOW"
    rollback_notes: "Restore from graveyard"

  - path: "mustbeviral/scripts/conservative-unused-vars.cjs"
    action: "MOVE"
    category: "temporary_scripts"
    reason: "One-time variable cleanup"
    evidence_of_unused: "No package.json reference"
    risk_level: "LOW"
    rollback_notes: "Restore if needed"

  - path: "mustbeviral/scripts/count-errors.cjs"
    action: "MOVE"
    category: "temporary_scripts"
    reason: "Temporary error counting utility"
    evidence_of_unused: "Development only tool"
    risk_level: "LOW"
    rollback_notes: "Restore from graveyard"

  - path: "mustbeviral/scripts/emergency-regex-fix.cjs"
    action: "MOVE"
    category: "temporary_scripts"
    reason: "Emergency fix already applied"
    evidence_of_unused: "One-time use"
    risk_level: "LOW"
    rollback_notes: "Restore if regex issues recur"

  - path: "mustbeviral/scripts/fix-agent-imports.cjs"
    action: "MOVE"
    category: "temporary_scripts"
    reason: "Import fixes already applied"
    evidence_of_unused: "One-time migration"
    risk_level: "LOW"
    rollback_notes: "Restore from graveyard"

  - path: "mustbeviral/scripts/fix-any-types.cjs"
    action: "MOVE"
    category: "temporary_scripts"
    reason: "Type fixes already applied"
    evidence_of_unused: "One-time cleanup"
    risk_level: "LOW"
    rollback_notes: "Restore if needed"

  - path: "mustbeviral/scripts/fix-any-types-safe.cjs"
    action: "MOVE"
    category: "temporary_scripts"
    reason: "Type fixes already applied"
    evidence_of_unused: "Duplicate of fix-any-types"
    risk_level: "LOW"
    rollback_notes: "Restore from graveyard"

  - path: "mustbeviral/scripts/fix-common-patterns.cjs"
    action: "MOVE"
    category: "temporary_scripts"
    reason: "Pattern fixes applied"
    evidence_of_unused: "One-time use"
    risk_level: "LOW"
    rollback_notes: "Restore if needed"

  - path: "mustbeviral/scripts/fix-escapes.cjs"
    action: "MOVE"
    category: "temporary_scripts"
    reason: "Escape fixes applied"
    evidence_of_unused: "One-time fix"
    risk_level: "LOW"
    rollback_notes: "Restore from graveyard"

  - path: "mustbeviral/scripts/fix-lint-errors.cjs"
    action: "MOVE"
    category: "temporary_scripts"
    reason: "Lint fixes applied"
    evidence_of_unused: "Use eslint --fix instead"
    risk_level: "LOW"
    rollback_notes: "Restore if needed"

  - path: "mustbeviral/scripts/fix-regex-syntax.cjs"
    action: "MOVE"
    category: "temporary_scripts"
    reason: "Regex fixes applied"
    evidence_of_unused: "One-time fix"
    risk_level: "LOW"
    rollback_notes: "Restore from graveyard"

  - path: "mustbeviral/scripts/fix-specific-files.cjs"
    action: "MOVE"
    category: "temporary_scripts"
    reason: "Specific fixes applied"
    evidence_of_unused: "One-time use"
    risk_level: "LOW"
    rollback_notes: "Restore if needed"

  - path: "mustbeviral/scripts/fix-test-imports.cjs"
    action: "MOVE"
    category: "temporary_scripts"
    reason: "Test import fixes applied"
    evidence_of_unused: "One-time migration"
    risk_level: "LOW"
    rollback_notes: "Restore from graveyard"

  - path: "mustbeviral/scripts/fix-top-errors.cjs"
    action: "MOVE"
    category: "temporary_scripts"
    reason: "Top errors already fixed"
    evidence_of_unused: "One-time use"
    risk_level: "LOW"
    rollback_notes: "Restore if needed"

  - path: "mustbeviral/scripts/fix-unused-vars.cjs"
    action: "MOVE"
    category: "temporary_scripts"
    reason: "Unused vars cleaned"
    evidence_of_unused: "Use eslint instead"
    risk_level: "LOW"
    rollback_notes: "Restore from graveyard"

  - path: "mustbeviral/scripts/quick-fix-unused.cjs"
    action: "MOVE"
    category: "temporary_scripts"
    reason: "Quick fixes applied"
    evidence_of_unused: "One-time use"
    risk_level: "LOW"
    rollback_notes: "Restore if needed"

  - path: "mustbeviral/scripts/export-project.cjs"
    action: "MOVE"
    category: "temporary_scripts"
    reason: "Export utility not needed"
    evidence_of_unused: "One-time export"
    risk_level: "LOW"
    rollback_notes: "Restore for future exports"

  - path: "mustbeviral/scripts/setup-report.mjs"
    action: "MOVE"
    category: "temporary_scripts"
    reason: "Setup report generated"
    evidence_of_unused: "One-time report"
    risk_level: "LOW"
    rollback_notes: "Restore from graveyard"

  # Archive Files - SHOULD NOT BE IN VCS
  - path: "mustbeviral/must-be-viral-export-2025-08-22.zip"
    action: "MOVE"
    category: "archives"
    reason: "Archive file should not be in version control"
    evidence_of_unused: "Backup file, matches .gitignore pattern"
    risk_level: "LOW"
    rollback_notes: "Restore from graveyard if needed"

  # Duplicate Documentation - ROOT LEVEL
  - path: "API-DOCUMENTATION.md"
    action: "MOVE"
    category: "duplicate_docs"
    reason: "Content exists in mustbeviral/docs/"
    evidence_of_unused: "Duplicate documentation"
    risk_level: "LOW"
    rollback_notes: "Content preserved in docs folder"

  - path: "ARCHITECTURE.md"
    action: "MOVE"
    category: "duplicate_docs"
    reason: "Content in mustbeviral/docs/"
    evidence_of_unused: "Duplicate content"
    risk_level: "LOW"
    rollback_notes: "Check docs folder"

  - path: "BEST-PRACTICES.md"
    action: "MOVE"
    category: "duplicate_docs"
    reason: "Practices documented elsewhere"
    evidence_of_unused: "Duplicate content"
    risk_level: "LOW"
    rollback_notes: "Restore if unique content"

  - path: "DATABASE-DOCUMENTATION.md"
    action: "MOVE"
    category: "duplicate_docs"
    reason: "Database docs in mustbeviral/docs/"
    evidence_of_unused: "Duplicate documentation"
    risk_level: "LOW"
    rollback_notes: "Check docs folder"

  - path: "DEPLOYMENT-GUIDE.md"
    action: "MOVE"
    category: "duplicate_docs"
    reason: "Deployment in mustbeviral/docs/"
    evidence_of_unused: "Duplicate guide"
    risk_level: "MEDIUM"
    rollback_notes: "May contain unique deployment info"

  - path: "DEVELOPER-QUICKSTART.md"
    action: "MOVE"
    category: "duplicate_docs"
    reason: "Quickstart in README"
    evidence_of_unused: "Duplicate content"
    risk_level: "LOW"
    rollback_notes: "Check README"

  - path: "DOCKER-DEPLOYMENT-GUIDE.md"
    action: "MOVE"
    category: "duplicate_docs"
    reason: "Docker docs consolidated"
    evidence_of_unused: "Docker compose files self-documenting"
    risk_level: "MEDIUM"
    rollback_notes: "May contain unique Docker info"

  - path: "DOCUMENTATION-SUMMARY.md"
    action: "MOVE"
    category: "duplicate_docs"
    reason: "Summary in docs/"
    evidence_of_unused: "Meta-documentation"
    risk_level: "LOW"
    rollback_notes: "Restore if needed"

  - path: "DOMAIN-ARCHITECTURE-GUIDE.md"
    action: "MOVE"
    category: "duplicate_docs"
    reason: "Architecture in docs/"
    evidence_of_unused: "Duplicate content"
    risk_level: "LOW"
    rollback_notes: "Check docs folder"

  - path: "FINAL-DOCUMENTATION-REPORT.md"
    action: "MOVE"
    category: "duplicate_docs"
    reason: "Report file, not active doc"
    evidence_of_unused: "One-time report"
    risk_level: "LOW"
    rollback_notes: "Historical reference only"

  - path: "PERFORMANCE-OPTIMIZATIONS.md"
    action: "MOVE"
    category: "duplicate_docs"
    reason: "Performance docs in mustbeviral/"
    evidence_of_unused: "Duplicate content"
    risk_level: "LOW"
    rollback_notes: "Check mustbeviral docs"

  # Report Files - GENERATED ARTIFACTS
  - path: "mustbeviral/COMPREHENSIVE-UX-ARCHITECTURE.xml"
    action: "MOVE"
    category: "generated_reports"
    reason: "Generated UX report"
    evidence_of_unused: "One-time analysis"
    risk_level: "LOW"
    rollback_notes: "Historical reference only"

  - path: "mustbeviral/COMPREHENSIVE-UX-TESTING-STRATEGY.xml"
    action: "MOVE"
    category: "generated_reports"
    reason: "Generated test strategy"
    evidence_of_unused: "One-time document"
    risk_level: "LOW"
    rollback_notes: "Restore if needed"

  - path: "mustbeviral/COMPREHENSIVE-UX-TESTING-REPORT.xml"
    action: "MOVE"
    category: "generated_reports"
    reason: "Generated test report"
    evidence_of_unused: "One-time analysis"
    risk_level: "LOW"
    rollback_notes: "Historical only"

  - path: "mustbeviral/QA-COMPREHENSIVE-TEST-REPORT.xml"
    action: "MOVE"
    category: "generated_reports"
    reason: "QA report artifact"
    evidence_of_unused: "One-time report"
    risk_level: "LOW"
    rollback_notes: "Restore from graveyard"

  - path: "mustbeviral/UI-REFACTOR-PLAN.xml"
    action: "MOVE"
    category: "generated_reports"
    reason: "Refactor plan document"
    evidence_of_unused: "Planning artifact"
    risk_level: "LOW"
    rollback_notes: "Historical reference"

  - path: "mustbeviral/FINAL-UX-ELEVATION-REVIEW.json"
    action: "MOVE"
    category: "generated_reports"
    reason: "UX review report"
    evidence_of_unused: "One-time analysis"
    risk_level: "LOW"
    rollback_notes: "Restore if needed"

  - path: "mustbeviral/PERFORMANCE-OPTIMIZATION-REPORT.json"
    action: "MOVE"
    category: "generated_reports"
    reason: "Performance report"
    evidence_of_unused: "Analysis artifact"
    risk_level: "LOW"
    rollback_notes: "Historical only"

  - path: "mustbeviral/SECURITY-AUDIT-REPORT.json"
    action: "MOVE"
    category: "generated_reports"
    reason: "Security audit artifact"
    evidence_of_unused: "One-time audit"
    risk_level: "LOW"
    rollback_notes: "Keep for compliance if needed"

  - path: "mustbeviral/UX-SECURITY-AUDIT-REPORT.json"
    action: "MOVE"
    category: "generated_reports"
    reason: "UX security report"
    evidence_of_unused: "One-time analysis"
    risk_level: "LOW"
    rollback_notes: "Restore from graveyard"

  # Additional Report Files
  - path: "mustbeviral/BUILDER-IO-DESIGN-SYSTEM-GUIDE.md"
    action: "MOVE"
    category: "generated_reports"
    reason: "Builder.io specific guide"
    evidence_of_unused: "Platform-specific doc"
    risk_level: "MEDIUM"
    rollback_notes: "Keep if using Builder.io"

  - path: "mustbeviral/BUILDER-IO-EXTENSION-SETUP.md"
    action: "MOVE"
    category: "generated_reports"
    reason: "Builder.io setup doc"
    evidence_of_unused: "Setup already complete"
    risk_level: "MEDIUM"
    rollback_notes: "Keep if using Builder.io"

  - path: "mustbeviral/COMPREHENSIVE-TESTING-REPORT.md"
    action: "MOVE"
    category: "generated_reports"
    reason: "Testing report"
    evidence_of_unused: "One-time report"
    risk_level: "LOW"
    rollback_notes: "Historical reference"

  - path: "mustbeviral/DEPLOYMENT-PLATFORM-SETUP.md"
    action: "MOVE"
    category: "generated_reports"
    reason: "Platform setup doc"
    evidence_of_unused: "Setup complete"
    risk_level: "MEDIUM"
    rollback_notes: "May contain important config"

  - path: "mustbeviral/DEPLOYMENT-SUMMARY.md"
    action: "MOVE"
    category: "generated_reports"
    reason: "Deployment summary"
    evidence_of_unused: "One-time summary"
    risk_level: "LOW"
    rollback_notes: "Historical only"

  - path: "mustbeviral/UX-ELEVATION-DEPLOYMENT-ROADMAP.md"
    action: "MOVE"
    category: "generated_reports"
    reason: "UX roadmap doc"
    evidence_of_unused: "Planning document"
    risk_level: "LOW"
    rollback_notes: "Restore if needed"

  - path: "mustbeviral/SECURITY-AUDIT-RESULTS.md"
    action: "MOVE"
    category: "generated_reports"
    reason: "Audit results"
    evidence_of_unused: "One-time audit"
    risk_level: "LOW"
    rollback_notes: "Keep for compliance"

  # Temporary Report Directory
  - path: "mustbeviral/.reports"
    action: "MOVE"
    category: "temp_directories"
    reason: "Temporary analysis reports"
    evidence_of_unused: "Analysis artifacts"
    risk_level: "LOW"
    rollback_notes: "Restore entire directory if needed"

  # Duplicate Configuration Files
  - path: "babel.config.js"
    action: "MOVE"
    category: "duplicate_configs"
    reason: "mustbeviral has babel.config.mjs"
    evidence_of_unused: "Duplicate babel config"
    risk_level: "MEDIUM"
    rollback_notes: "Verify mustbeviral config covers all cases"

  - path: "eslint.config.js"
    action: "KEEP"
    category: "configs"
    reason: "Root eslint config may be needed"
    evidence_of_unused: "Used by root package.json"
    risk_level: "HIGH"
    rollback_notes: "Keep for now"

  # Duplicate Test Directories
  - path: "load-tests"
    action: "MOVE"
    category: "duplicate_tests"
    reason: "Basic tests, comprehensive in mustbeviral/load-tests"
    evidence_of_unused: "Duplicate test suite"
    risk_level: "LOW"
    rollback_notes: "mustbeviral has better tests"

  # Old Test Files (JavaScript versions where TypeScript exists)
  - path: "mustbeviral/__tests__/e2e/onboarding.spec.js"
    action: "MOVE"
    category: "old_tests"
    reason: "TypeScript version exists (.ts)"
    evidence_of_unused: "Duplicate test file"
    risk_level: "LOW"
    rollback_notes: "TS version is canonical"

  # Example Files
  - path: "docker-compose.override.yml.example"
    action: "KEEP"
    category: "examples"
    reason: "Useful template for local development"
    evidence_of_unused: "Example file but useful"
    risk_level: "LOW"
    rollback_notes: "Keep as reference"

  # Builder Setup Files
  - path: "mustbeviral/builder-setup.md"
    action: "MOVE"
    category: "setup_docs"
    reason: "Setup already complete"
    evidence_of_unused: "One-time setup guide"
    risk_level: "LOW"
    rollback_notes: "Restore if re-setup needed"

  # Team Notes - NEEDS REVIEW
  - path: "mustbeviral/team-notes.md"
    action: "KEEP"
    category: "team_docs"
    reason: "May contain important team context"
    evidence_of_unused: "Unknown content"
    risk_level: "HIGH"
    rollback_notes: "Review content first"

# Validation Steps (Run after each category)
validation:
  - command: "npm run build"
    required: true
    failure_action: "rollback_category"

  - command: "npm run test:unit"
    required: true
    failure_action: "rollback_category"

  - command: "npm run typecheck"
    required: true
    failure_action: "rollback_category"

  - command: "cd mustbeviral && wrangler deploy --dry-run"
    required: true
    failure_action: "rollback_all"

# Rollback Plan
rollback:
  strategy: "move_from_graveyard"
  graveyard_structure:
    - "__graveyard__/temporary_scripts/"
    - "__graveyard__/duplicate_docs/"
    - "__graveyard__/generated_reports/"
    - "__graveyard__/archives/"
    - "__graveyard__/duplicate_configs/"
    - "__graveyard__/duplicate_tests/"
    - "__graveyard__/old_tests/"
    - "__graveyard__/temp_directories/"
    - "__graveyard__/setup_docs/"

# Summary Statistics
summary:
  total_actions: 56
  move_actions: 54
  keep_actions: 2
  delete_actions: 0
  estimated_files_affected: 56
  estimated_size_reduction: "~1.7MB"
  risk_assessment: "LOW - Most items are clearly temporary or duplicate"